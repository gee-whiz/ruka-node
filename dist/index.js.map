{"version":3,"sources":["../src/index.js"],"names":["LocalStrategy","require","Strategy","app","server","createServer","use","json","limit","bodyLimit","initialize","Account","usernameField","passwordField","authenticate","serializeUser","deserializeUser","listen","port","console","log","address"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAMA;;;;AACA;;;;;;AALA,IAAMA,gBAAiBC,QAAQ,gBAAR,EAA0BC,QAAjD;;AAGA;;;AAIA,IAAIC,MAAM,wBAAV;AACAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAIA;;AAEAA,IAAIG,GAAJ,CAAQ,qBAAWC,IAAX,CAAgB;AACnBC,SAAO,iBAAOC;AADK,CAAhB,CAAR;;AAIA;AACEN,IAAIG,GAAJ,CAAQ,mBAASI,UAAT,EAAR;;AAEA,IAAIC,UAAUV,QAAQ,iBAAR,CAAd;;AAEA,mBAASK,GAAT,CAAa,IAAIN,aAAJ,CAAkB;AAC1BY,iBAAe,OADW;AAE1BC,iBAAgB;AAFU,CAAlB,EAGPF,QAAQG,YAAR,EAHO,CAAb;;AAMA,mBAASC,aAAT,CAAuBJ,QAAQI,aAAR,EAAvB;AACA,mBAASC,eAAT,CAAyBL,QAAQK,eAAR,EAAzB;;AAEF;AACAb,IAAIG,GAAJ,CAAQ,KAAR;AACAH,IAAIC,MAAJ,CAAWa,MAAX,CAAkB,iBAAOC,IAAzB;AACAC,QAAQC,GAAR,mBAA4BjB,IAAIC,MAAJ,CAAWiB,OAAX,GAAqBH,IAAjD;;kBAEgBf,G","file":"index.js","sourcesContent":["import  http from 'http';\nimport  express from 'express';\nimport  bodyParser from 'body-parser';\nimport  mongoose  from 'mongoose';\nimport passport  from \"passport\";\n\nconst LocalStrategy  = require('passport-local').Strategy;\n\n\n//\nimport  config from  './config';\nimport  routes from  './routes';\n\nlet app = express();\napp.server = http.createServer(app);\n\n\n\n// middleware\n\napp.use(bodyParser.json({\n     limit: config.bodyLimit\n}));\n\n// passprt eslintConfig\n  app.use(passport.initialize());\n\n  let Account = require('./model/account');\n\n  passport.use(new LocalStrategy({\n       usernameField: 'email',\n       passwordField:  'password'\n     }, Account.authenticate()\n  ));\n\n  passport.serializeUser(Account.serializeUser());\n  passport.deserializeUser(Account.deserializeUser());\n\n// api routes v1\napp.use('/v1', routes);\napp.server.listen(config.port);\nconsole.log(`started port ${app.server.address().port}`);\n\nexport  default app;\n"]}