{"version":3,"sources":["../../src/middleware/authMiddleware.js"],"names":["TOKENTIME","SECRET","authenticate","secret","generateAccessToken","req","res","next","token","sign","id","user","expiresIn","respond","status","json","username","module","exports"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAOA,YAAa,KAAG,EAAH,GAAM,EAAN,GAAS,EAA7B,C,CAAiC;AACjC,IAAMC,SAAS,aAAf;;AAEA,IAAIC,eAAgB,0BAAW,EAACC,QAAQF,MAAT,EAAX,CAApB;;AAEA,IAAIG,sBAAuB,SAAvBA,mBAAuB,CAACC,GAAD,EAAKC,GAAL,EAAUC,IAAV,EAAmB;AAC1CF,MAAIG,KAAJ,GAAYH,IAAIG,KAAJ,IAAa,EAAzB;AACAH,MAAIG,KAAJ,GAAY,uBAAIC,IAAJ,CAAS;AACjBC,QAAIL,IAAIM,IAAJ,CAASD;AADI,GAAT,EAEPT,MAFO,EAEC;AACRW,eAAWZ;AADH,GAFD,CAAZ;AAKAO;AACH,CARD;AASA;AACA,IAAIM,UAAU,SAAVA,OAAU,CAACR,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBJ,UAAMN,IAAIM,IAAJ,CAASK,QADI;AAEnBR,WAAOH,IAAIG;AAFQ,GAArB;AAID,CALD;;AAOAS,OAAOC,OAAP,GAAiB;AACfhB,4BADe;AAEfE,0CAFe;AAGfS;AAHe,CAAjB","file":"authMiddleware.js","sourcesContent":["import  jwt from 'jsonwebtoken';\nimport expressJwt from 'express-jwt';\nimport mongoose  from \"mongoose\";\n\nconst  TOKENTIME  = 60*60*24*30; //30 DAYS\nconst SECRET = \"hello world\";\n\nlet authenticate  = expressJwt({secret: SECRET});\n\nlet generateAccessToken  = (req,res, next) => {\n    req.token = req.token || {};\n    req.token = jwt.sign({\n        id: req.user.id,\n      }, SECRET, {\n         expiresIn: TOKENTIME\n    });\n    next();\n}\n//milld\nlet respond = (req, res) => {\n  res.status(200).json({\n    user: req.user.username,\n    token: req.token\n  });\n}\n\nmodule.exports = {\n  authenticate,\n  generateAccessToken,\n  respond\n}\n"]}